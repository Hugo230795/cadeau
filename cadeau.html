<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Une surprise magique</title>
    <style>
    :root {
        --gift-color: #ff4757;
        --ribbon-color: #eccc68;
    }

    body {
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh; /* Utilisation de min-height pour mobile */
        font-family: 'Segoe UI', sans-serif;
        overflow: hidden;
        background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
        background-size: 400% 400%;
        animation: aurora 15s ease infinite;
    }

    /* Conteneur principal flexible */
    .container {
        text-align: center;
        z-index: 10;
        width: 100%;
        padding: 20px;
        box-sizing: border-box;
    }

    /* Cadeau Adaptatif */
    .gift-container {
        width: 160px; /* Taille de base un peu plus petite pour mobile */
        height: 160px;
        position: relative;
        cursor: pointer;
        margin: 0 auto;
        filter: drop-shadow(0 20px 30px rgba(0,0,0,0.2));
    }

    /* Photo Surprise Adaptative */
    .surprise-photo {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        width: 90vw; /* Prend 90% de la largeur de l'écran max */
        max-width: 350px; /* Mais ne dépasse pas 350px sur ordinateur */
        height: auto;
        border-radius: 15px;
        border: 8px solid white;
        box-shadow: 0 15px 50px rgba(0,0,0,0.3);
        z-index: 1;
        transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
        opacity: 0;
    }

    /* Ajustements pour les écrans larges (Tablettes/PC) */
    @media (min-width: 768px) {
        .gift-container {
            width: 200px;
            height: 200px;
        }
        .surprise-photo {
            max-width: 450px;
        }
    }

    /* Boîte de message responsive */
    #message-box {
        margin-top: 30px;
        padding: 15px;
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        color: white;
        display: none;
        max-width: 90%;
        margin-left: auto;
        margin-right: auto;
    }

    /* ... garder le reste des animations (aurora, shake, etc.) du code précédent ... */
</style>
</head>
<body>

    <div class="bokeh">
        <div class="circle" style="width: 400px; height: 400px; background: #fff176; top: 10%; left: 10%;"></div>
        <div class="circle" style="width: 300px; height: 300px; background: #f48fb1; bottom: 20%; right: 10%; animation-delay: -5s;"></div>
        <div class="circle" style="width: 500px; height: 500px; background: #81d4fa; top: 50%; left: 40%; animation-delay: -10s;"></div>
    </div>

    <div class="container" id="main-container">
        <div class="gift-container" id="gift" onclick="handleGiftClick()">
            <div class="gift-lid"></div>
            <div class="gift-box"></div>
            <img src="./quelle-est-l-origine-du-doigt-d-honneur.jpg" alt="Surprise" class="surprise-photo">
        </div>
        
        <p id="counter">Clique pour découvrir ta surprise !</p>
    </div>

    <script>
        let clicks = 0;
        const target = 6;
        const gift = document.getElementById('gift');
        const container = document.getElementById('main-container');

        function handleGiftClick() {
            if (clicks < target) {
                clicks++;
                gift.classList.remove('shake');
                void gift.offsetWidth; 
                gift.classList.add('shake');

                if (clicks === target) {
                    openGift();
                } else {
                    document.getElementById('counter').innerText = `Encore ${target - clicks} petits clics...`;
                }
            }
        }

        function openGift() {
            container.classList.add('open');
            document.getElementById('counter').style.display = 'none';
            setTimeout(() => {
                document.getElementById('message-box').style.display = 'block';
            }, 500);
        }
    </script>
</body>
</html>